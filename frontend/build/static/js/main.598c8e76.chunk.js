(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,a){e.exports=a(41)},41:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(17),c=a(15),l=a(14),o=a(26),i=a(27),u=a(30),m="SEND_MESSAGE",h={messages:[]};function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return{messages:[].concat(Object(u.a)(e.messages),[t.payload])};default:return e}}var d="CHANGE_NICKNAME",g={nickname:"Guest"+Math.floor(1001*Math.random())};var f=Object(l.combineReducers)({nicknameReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return{nickname:t.payload};default:return e}},messageReducer:p});var b=a(7),v=a(8),y=a(10),E=a(9),j=a(11),O=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(y.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).messageListRef=s.a.createRef(),a.scrollToBottom=function(e){e.scrollTop=e.scrollHeight},a}return Object(j.a)(t,e),Object(v.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.messageListRef.current;e.scrollTop+e.clientHeight!==e.scrollHeight&&this.scrollToBottom(e)}},{key:"render",value:function(){var e=this.props.messages;return s.a.createElement("div",{className:"message-list",id:"message-list",ref:this.messageListRef,style:{display:"inline-block",height:"calc(100vh - 200px)",overflowY:"scroll"}},e.map(function(e){return s.a.createElement("div",{className:"message-item",key:e.timestamp},s.a.createElement("p",{className:"message-from",style:{fontWeight:"bold",marginBottom:0}},"From: ",e.user),s.a.createElement("p",{style:{marginTop:0}},e.message))}))}}]),t}(s.a.Component),k=Object(c.b)(function(e){return{messages:e.messageReducer.messages}})(O);var M=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(y.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(s)))).state={user:"",message:""},a.keyPress=function(e){"Enter"===e.key&&a.sendChatMessage()},a.sendChatMessage=function(){""!==a.state.message&&(a.props.sendMessage({user:a.state.user,message:a.state.message,timestamp:(new Date).getTime()}),a.setState({message:""}))},a.sendChatMessageWithParams=function(e){a.props.sendMessage(e)},a.updateUser=function(e){a.setState({user:e.currentTarget.value})},a.updateMessage=function(e){a.setState({message:e.currentTarget.value})},a}return Object(j.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e="Guest"+Math.floor(1001*Math.random());this.setState({user:e}),this.sendChatMessageWithParams({user:"Chat Bot",message:"Hello "+e+"! Change the nickname and start chatting.",timestamp:(new Date).getTime()})}},{key:"render",value:function(){var e=this.state,t=e.user,a=e.message;return s.a.createElement("div",null,s.a.createElement("div",{className:"chat-form"},s.a.createElement("input",{id:"nickname-input",value:t,onChange:this.updateUser}),s.a.createElement("br",null),s.a.createElement("input",{id:"chat-input",value:a,onChange:this.updateMessage,onKeyPress:this.keyPress,className:"chat-input",placeholder:"Type a message...",autoFocus:!0}),s.a.createElement("button",{onClick:this.sendChatMessage,id:"send-message-btn"},"Send")))}}]),t}(s.a.Component),C=Object(c.b)(null,function(e){return{sendMessage:function(t){return e({type:m,payload:t})}}})(M),w=function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("p",{style:{fontWeight:"bold"}},"Users online:"),s.a.createElement("ul",{className:"user-list",id:"user-list"}))}}]),t}(s.a.Component),N=function(){return s.a.createElement("div",{className:"chat-page"},s.a.createElement(k,null),s.a.createElement(C,null),s.a.createElement(w,null))},T=function(){return s.a.createElement("h1",null,"Not found")},S=a(28),R=a(13),D=function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return s.a.createElement(S.a,null,s.a.createElement("div",null,s.a.createElement(R.c,null,s.a.createElement(R.a,{exact:!0,path:"/",component:N}),s.a.createElement(R.a,{component:T}))))}}]),t}(s.a.Component),A=function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return s.a.createElement(D,null)}}]),t}(s.a.Component),B=function(){var e=[o.a],t=l.applyMiddleware.apply(void 0,e);return Object(l.createStore)(f,Object(i.composeWithDevTools)(t))}();Object(r.render)(s.a.createElement(c.a,{store:B},s.a.createElement(A,null)),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.598c8e76.chunk.js.map