{"version":3,"sources":["components/MessageList.tsx","components/ChatForm.tsx","store/nickname/types.tsx","store/message/types.tsx","App.tsx","store/nickname/actions.tsx","store/message/actions.tsx","components/NotFound.tsx","routes/Routes.tsx","store/message/reducer.tsx","store/nickname/reducer.tsx","store/index.tsx","index.tsx"],"names":["MessageList","react_default","a","createElement","className","id","this","props","messageReducer","messages","map","message","key","timestamp","style","fontWeight","marginBottom","user","marginTop","React","Component","connect","state","ChatForm","_ref","nickname","sendMessage","updateMessage","updateNickname","send","value","onChange","onKeyPress","e","placeholder","onClick","CHANGE_NICKNAME","SEND_MESSAGE","App","event","_this","setState","currentTarget","Date","getTime","Math","floor","random","components_MessageList","components_ChatForm","nicknameReducer","changeNickname","newNickname","type","payload","newMessage","NotFound","Routes","react_router_dom","react_router","exact","path","component","initialState","rootReducer","combineReducers","arguments","length","undefined","action","concat","Object","toConsumableArray","store","middlewares","thunk","middlewareEnhancer","applyMiddleware","apply","createStore","composeWithDevTools","configureStore","render","es","routes_Routes","document","getElementById"],"mappings":"gNAcMA,mLAEF,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAeC,GAAG,gBAC9BC,KAAKC,MAAMC,eAAeC,SAASC,IAAI,SAAAC,GAAO,OAC7CV,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAeQ,IAAKD,EAAQE,WACzCZ,EAAAC,EAAAC,cAAA,KAAGC,UAAU,eAAeU,MAAO,CAAEC,WAAY,OAAQC,aAAc,IAAvE,SAAmFL,EAAQM,MAC3FhB,EAAAC,EAAAC,cAAA,KAAGW,MAAO,CAAEI,UAAW,IAAMP,EAAQA,oBAPvBQ,IAAMC,WAejBC,cAnBS,SAACC,GAAD,MAA8B,CACpDb,SAAUa,EAAMb,WAkBHY,CAAyBrB,GCqBzBuB,EAtCiC,SAAAC,GAM1C,IALJC,EAKID,EALJC,SACAd,EAIIa,EAJJb,QACAe,EAGIF,EAHJE,YACAC,EAEIH,EAFJG,cACAC,EACIJ,EADJI,eAQA,SAASC,IACPH,EAAYf,GAGd,OACEV,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,SACEE,GAAG,iBACHyB,MAAOL,EACPM,SAAUH,IAEZ3B,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SACEE,GAAG,aACHyB,MAAOnB,EACPoB,SAAUJ,EACVK,WAtBN,SAAkBC,GACF,UAAVA,EAAErB,KACJiB,KAqBEzB,UAAU,aACV8B,YAAY,sBAEdjC,EAAAC,EAAAC,cAAA,UAAQgC,QAASN,EAAMxB,GAAG,oBAA1B,UCzCO+B,EAA0B,kBCMhC,IAAMC,EAAuB,mBCS9BC,6MACJhB,MAAQ,CACNX,QAAS,GACTc,SAAU,MAcZG,eAAiB,SAACW,GAChBC,EAAKC,SAAS,CAAEhB,SAAUc,EAAMG,cAAcZ,WAGhDH,cAAgB,SAACY,GACfC,EAAKC,SAAS,CAAE9B,QAAS4B,EAAMG,cAAcZ,WAG/CJ,YAAc,SAACf,GACb6B,EAAKjC,MAAMmB,YAAY,CACrBT,KAAMuB,EAAKlB,MAAMG,SACjBd,QAASA,EACTE,WAAW,IAAI8B,MAAOC,YAExBJ,EAAKC,SAAS,CAAE9B,QAAS,yFAxBzB,IAAMc,EAAW,QAAUoB,KAAKC,MAAsB,KAAhBD,KAAKE,UAC3CzC,KAAKmC,SAAS,CAAEhB,aAEhBnB,KAAKC,MAAMmB,YAAY,CACrBT,KAAM,WACNN,QAAS,SAAWc,EAAW,IAC/BZ,WAAW,IAAI8B,MAAOC,6CAsBxB,OACE3C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACbH,EAAAC,EAAAC,cAAC6C,EAAD,CAAaxC,eAAgBF,KAAKC,MAAMC,iBACxCP,EAAAC,EAAAC,cAAC8C,EAAD,CACExB,SAAUnB,KAAKgB,MAAMG,SACrBd,QAASL,KAAKgB,MAAMX,QACpBe,YAAapB,KAAKoB,YAClBC,cAAerB,KAAKqB,cACpBC,eAAgBtB,KAAKsB,yBA3CbT,IAAMC,WAuDTC,cALS,SAACC,GAAD,MAAsB,CAC5C4B,gBAAiB5B,EAAM4B,gBACvB1C,eAAgBc,EAAMd,iBAKtB,CAAE2C,eC1EG,SAAwBC,GAC7B,MAAO,CACLC,KAAMjB,EACNkB,QAASF,IDuEO1B,YE1Eb,SAAqB6B,GAC1B,MAAO,CACLF,KAAMhB,EACNiB,QAASC,KFqEElC,CAGbiB,GGzEakB,EAFY,kBAAMvD,EAAAC,EAAAC,cAAA,uCCkBlBsD,mLAbX,OACExD,EAAAC,EAAAC,cAACuD,EAAA,EAAD,KACEzD,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACwD,EAAA,EAAD,KACE1D,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWxB,IACjCrC,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAOG,UAAWN,cAPTrC,IAAMC,0CCCrB2C,EAA6B,CACjCtD,SAAU,ICAZ,IAAMsD,EAA8B,CAClCtC,SAAU,QAAUoB,KAAKC,MAAsB,KAAhBD,KAAKE,WCFtC,IAAMiB,EAAcC,0BAAgB,CAClCf,gBDIK,WAGU,IAFf5B,EAEe4C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFPH,EACRM,EACeH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACb,OAAQC,EAAOhB,MACb,KAAKjB,EACH,MAAO,CACLX,SAAU4C,EAAOf,SAErB,QACE,OAAOhC,ICbbd,eFaK,WAGS,IAFdc,EAEc4C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFNH,EACRM,EACcH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACZ,OAAQC,EAAOhB,MACb,KAAKhB,EACH,MAAO,CACL5B,SAAQ,GAAA6D,OAAAC,OAAAC,EAAA,EAAAD,CAAMjD,EAAMb,UAAZ,CAAsB4D,EAAOf,WAEzC,QACE,OAAOhC,MGzBf,IAAMmD,EDOS,WACb,IAAMC,EAAc,CAACC,KACfC,EAAqBC,kBAAeC,WAAf,EAAmBJ,GAO9C,OALcK,sBACZf,EACAgB,8BAAoBJ,ICbVK,GAEdC,iBACEjF,EAAAC,EAAAC,cAACgF,EAAA,EAAD,CAAUV,MAAOA,GACfxE,EAAAC,EAAAC,cAACiF,EAAD,OAEFC,SAASC,eAAe","file":"static/js/main.8eb2851c.chunk.js","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Message } from '../store/message/types';\r\nimport { MessageState } from '../store/message/types';\r\n\r\ninterface MessageListProps {\r\n  messageReducer: MessageState;\r\n  messages: Message[];\r\n}\r\n\r\nconst mapStateToProps = (state: MessageListProps) => ({\r\n  messages: state.messages\r\n})\r\n\r\nclass MessageList extends React.Component<MessageListProps> {\r\n  render() {\r\n    return (\r\n      <div className=\"message-list\" id=\"message-list\">\r\n        {this.props.messageReducer.messages.map(message => (\r\n          <div className=\"message-item\" key={message.timestamp}>\r\n            <p className=\"message-from\" style={{ fontWeight: 'bold', marginBottom: 0 }}>From: {message.user}</p>\r\n            <p style={{ marginTop: 0 }}>{message.message}</p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(MessageList);","import React from 'react';\r\nimport { UpdateMessageParam } from '../App';\r\nimport { UpdateNicknameParam } from '../App';\r\n\r\ninterface ChatInterfaceProps {\r\n  nickname: string;\r\n  message: string;\r\n  sendMessage: (message: string) => void;\r\n  updateMessage: (event: UpdateMessageParam) => void;\r\n  updateNickname: (event: UpdateNicknameParam) => void;\r\n}\r\n\r\nconst ChatForm: React.SFC<ChatInterfaceProps> = ({\r\n  nickname,\r\n  message,\r\n  sendMessage,\r\n  updateMessage,\r\n  updateNickname\r\n}) => {\r\n  function keyPress(e: React.KeyboardEvent<any>) {\r\n    if (e.key === \"Enter\") {\r\n      send();\r\n    }\r\n  }\r\n\r\n  function send() {\r\n    sendMessage(message);\r\n  }\r\n\r\n  return (\r\n    <div className=\"chat-form\">\r\n      <input\r\n        id=\"nickname-input\"\r\n        value={nickname}\r\n        onChange={updateNickname}\r\n      />\r\n      <br />\r\n      <input\r\n        id=\"chat-input\"\r\n        value={message}\r\n        onChange={updateMessage}\r\n        onKeyPress={keyPress}\r\n        className=\"chat-input\"\r\n        placeholder=\"Type a message...\"\r\n      />\r\n      <button onClick={send} id=\"send-message-btn\">Send</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatForm;","export interface NicknameState {\r\n  nickname: string;\r\n};\r\n\r\nexport const CHANGE_NICKNAME: string = 'CHANGE_NICKNAME';\r\n\r\ninterface ChangeNicknameAction {\r\n  type: typeof CHANGE_NICKNAME;\r\n  payload: string;\r\n};\r\n\r\nexport type NicknameActionTypes = ChangeNicknameAction;","export interface Message {\r\n  user: string;\r\n  message: string;\r\n  timestamp: number;\r\n};\r\n\r\nexport interface MessageState {\r\n  messages: Message[];\r\n};\r\n\r\nexport const SEND_MESSAGE: string = 'SEND_MESSAGE';\r\n\r\ninterface SendMessageAction {\r\n  type: typeof SEND_MESSAGE;\r\n  payload: Message;\r\n};\r\n\r\nexport type MessageActionTypes = SendMessageAction;","import React from 'react';\nimport MessageList from './components/MessageList';\nimport ChatForm from './components/ChatForm';\nimport { AppState } from './store';\nimport { changeNickname } from './store/nickname/actions';\nimport { sendMessage } from './store/message/actions';\nimport { NicknameState } from './store/nickname/types';\nimport { MessageState } from './store/message/types';\nimport { connect } from 'react-redux';\n\ninterface AppProps {\n  sendMessage: typeof sendMessage;\n  nicknameReducer: NicknameState;\n  messageReducer: MessageState;\n};\n\nexport type UpdateMessageParam = React.SyntheticEvent<{ value: string }>;\nexport type UpdateNicknameParam = React.SyntheticEvent<{ value: string }>;\n\nclass App extends React.Component<AppProps> {\n  state = {\n    message: '',\n    nickname: ''\n  };\n\n  componentDidMount() {\n    const nickname = \"Guest\" + Math.floor(Math.random() * 1001);\n    this.setState({ nickname });\n\n    this.props.sendMessage({\n      user: 'Chat Bot',\n      message: 'Hello ' + nickname + '!',\n      timestamp: new Date().getTime()\n    });\n  }\n\n  updateNickname = (event: UpdateNicknameParam) => {\n    this.setState({ nickname: event.currentTarget.value });\n  }\n\n  updateMessage = (event: UpdateMessageParam) => {\n    this.setState({ message: event.currentTarget.value });\n  };\n\n  sendMessage = (message: string) => {\n    this.props.sendMessage({\n      user: this.state.nickname,\n      message: message,\n      timestamp: new Date().getTime()\n    });\n    this.setState({ message: '' });\n  };\n\n  render() {\n    return (\n      <div className=\"parent\">\n        <MessageList messageReducer={this.props.messageReducer} />\n        <ChatForm\n          nickname={this.state.nickname}\n          message={this.state.message}\n          sendMessage={this.sendMessage}\n          updateMessage={this.updateMessage}\n          updateNickname={this.updateNickname}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: AppState) => ({\n  nicknameReducer: state.nicknameReducer,\n  messageReducer: state.messageReducer\n});\n\nexport default connect(\n  mapStateToProps,\n  { changeNickname, sendMessage }\n)(App);","import { CHANGE_NICKNAME, NicknameActionTypes } from './types';\r\n\r\nexport function changeNickname(newNickname: string): NicknameActionTypes {\r\n  return {\r\n    type: CHANGE_NICKNAME,\r\n    payload: newNickname\r\n  }\r\n}","import { Message, SEND_MESSAGE, MessageActionTypes } from './types';\r\n\r\nexport function sendMessage(newMessage: Message): MessageActionTypes {\r\n  return {\r\n    type: SEND_MESSAGE,\r\n    payload: newMessage\r\n  };\r\n}","import React from 'react';\r\n\r\nconst NotFound: React.FC = () => <h1>Not found</h1>\r\n\r\nexport default NotFound","import React from 'react';\r\nimport App from '../App';\r\nimport NotFound from '../components/NotFound';\r\nimport { Route, BrowserRouter as Router, Switch } from 'react-router-dom';\r\n\r\nclass Routes extends React.Component {\r\n  render() {\r\n    return (\r\n      <Router>\r\n        <div>\r\n          <Switch>\r\n            <Route exact path=\"/\" component={App} />\r\n            <Route component={NotFound} />\r\n          </Switch>\r\n        </div>\r\n      </Router>\r\n    );\r\n  };\r\n}\r\n\r\nexport default Routes;","import {\r\n  MessageState,\r\n  SEND_MESSAGE,\r\n  MessageActionTypes\r\n} from './types';\r\n\r\nconst initialState: MessageState = {\r\n  messages: [\r\n    // {\r\n    //   user: 'Chat Bot',\r\n    //   message: 'Testi 1',\r\n    //   timestamp: new Date().getTime()\r\n    // },\r\n    // {\r\n    //   user: 'Chat Bot',\r\n    //   message: 'Testi 2',\r\n    //   timestamp: new Date().getTime()\r\n    // }\r\n  ]\r\n};\r\n\r\nexport function messageReducer(\r\n  state = initialState,\r\n  action: MessageActionTypes\r\n): MessageState {\r\n    switch (action.type) {\r\n      case SEND_MESSAGE:\r\n        return {\r\n          messages: [...state.messages, action.payload]\r\n        };\r\n      default:\r\n        return state;\r\n    };\r\n};","   \r\nimport {\r\n  NicknameState,\r\n  CHANGE_NICKNAME,\r\n  NicknameActionTypes\r\n} from './types';\r\n\r\nconst initialState: NicknameState = {\r\n  nickname: 'Guest' + Math.floor(Math.random() * 1001)\r\n};\r\n\r\nexport function nicknameReducer(\r\n  state = initialState,\r\n  action: NicknameActionTypes\r\n): NicknameState {\r\n    switch (action.type) {\r\n      case CHANGE_NICKNAME:\r\n        return {\r\n          nickname: action.payload\r\n        };\r\n      default:\r\n        return state;\r\n    };\r\n};","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport { messageReducer } from './message/reducer';\r\nimport { nicknameReducer } from './nickname/reducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  nicknameReducer: nicknameReducer,\r\n  messageReducer: messageReducer\r\n});\r\n\r\nexport type AppState = ReturnType<typeof rootReducer>;\r\n\r\nexport default function configureStore() {\r\n  const middlewares = [thunk];\r\n  const middlewareEnhancer = applyMiddleware(...middlewares);\r\n\r\n  const store = createStore(\r\n    rootReducer,\r\n    composeWithDevTools(middlewareEnhancer)\r\n  );\r\n\r\n  return store;\r\n};","import React from 'react';\nimport { render } from 'react-dom';\nimport Routes from './routes/Routes';\nimport { Provider } from 'react-redux';\nimport configureStore from './store';\n\nconst store = configureStore();\n\nrender(\n  <Provider store={store}>\n    <Routes />\n  </Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}